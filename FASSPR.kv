#:kivy 2.0.0
#:import utils kivy.utils


<LayoutTest@BoxLayout>:
    canvas:
        Rectangle:
            pos: self.pos
            source: 'images/background.png'
            size: self.size


<LayoutTest>:
    img: image

    GridLayout:
        cols: 5

        Button: # <--- Show / Hide button
            size: (15,8)
            size_hint: (None, 1)
            text: "|"
            background_color: utils.get_color_from_hex('#005F73')
            on_press: root.isShownMenu = not root.isShownMenu
        BoxLayout: # <--- I want to show/hide this menu
            id: menu
            orientation: 'vertical'
            width: 120 if root.isShownMenu else 0
            hight: 120
            size_hint: (None, 1)
            opacity: 1 if root.isShownMenu else 0

            Button:
                text: 'Start Capture'
                on_press: root.start_capture()
            Button:
                text: 'Stop Capture'
                on_press: root.stop_capture()
            Button:
                text: "Start Experiment"
            Button:
                text: "Hide / Show Stats"
                on_press: root.isShownStats = not root.isShownStats
            Button:
                text: "Switch Graph"
        GridLayout:
            rows: 2
            cols: 1
            Graph:
                id: graph
                xlabel: "Time (s)"
                ylabel: "Brightness"
                x_ticks_major: 150
                y_ticks_major:255
                x_grid_label: True
                y_grid_label: True
                xmin:0
                xmax:150
                ymin:0
                ymax:255
            GridLayout:
                rows: 1
                cols: 2
                Image
                    id: image
                    nocache: True

                Label:
                    opacity: 1 if root.isShownStats else 0
                    size_hint: 1,1
                    text: root.your_time + "\nExecution Interval: " + root.exint +"\nAverage Runtime: " + root.exavg + "\nCapture Count: " + root.count + "\nFPS: " + root.fps + "\nIntensity: " + root.inten
                    color: [0,0,0,1]


#    BoxLayout:
#
#        padding: 10,10,10,10
#        size_hint: 1,0.3
#        Button:
#            text: "Restart MCU"