#:kivy 2.0.0


<LayoutTest@BoxLayout>:
    canvas:
        Rectangle:
            pos: self.pos
            source: 'images/background.png'
            size: self.size


<LayoutTest>:
    img: image

    BoxLayout:
        spacing: 10
        padding: 10,10,10,0
        orientation: "horizontal"

        BoxLayout:
            orientation: "vertical"
            size_hint: 1.5,1
            canvas:
                Color:
                    rgb: .6, .6, .6
                Rectangle:
                    pos: self.pos
                    size: self.size

            Image
                id: image
                nocache: True

            Label:
                opacity: 1 if root.isShownStats else 0
                size_hint: 1,0.5
                text: root.your_time + "\nExecution Interval: " + root.exint +"\nAverage Runtime: " + root.exavg + "\nCapture Count: " + root.count + "\nFPS: " + root.fps + "\nIntensity: " + root.inten
                color: [0,0,0,1]

        BoxLayout:
            size_hint: [2.5, .8]
            Graph:
                id: graph
                xlabel: "Time (s)"
                ylabel: "Brightness"
                x_ticks_major: 150
                y_ticks_major:255
                x_grid_label: True
                y_grid_label: True
                xmin:0
                xmax:150
                ymin:0
                ymax:255
    
    BoxLayout:
        padding: 10,10,10,0
        spacing: 10
        size_hint: 1,0.3
        orientation: "horizontal"

        Button:
            text: 'Start Capture'
            on_press: root.start_capture()
        Button:
            text: 'Stop Capture'
            on_press: root.stop_capture()
        Button:
            text: "Start Experiment"
        Button:
            text: "Hide / Show Stats"
            on_press: root.isShownStats = not root.isShownStats
        Button:
            text: "Switch Graph"

#    BoxLayout:
#
#        padding: 10,10,10,10
#        size_hint: 1,0.3
#        Button:
#            text: "Restart MCU"